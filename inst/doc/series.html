<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>EIA time series data</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">EIA time series data</h1>



<div id="finding-the-series-id" class="section level2">
<h2>Finding the series ID</h2>
<p>Like category information, time series data is obtained based on its ID. A complete example includes finding the ID for the series if you do not already know it. Chances are you may already know the series IDs you need after using the API explorer on the EIA website. Below, look for total electricity consumption.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(eia)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co"># eia_set_key(&quot;yourkey&quot;) # set API key if not already set globally</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">eia_cats</span>()</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co">#&gt; $category</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#&gt; # A tibble: 1 x 3</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="co">#&gt;   category_id name          notes</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="co">#&gt; 1 371         EIA Data Sets &quot;&quot;   </span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co">#&gt; </span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="co">#&gt; $childcategories</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">#&gt; # A tibble: 14 x 2</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">#&gt;    category_id name                               </span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="co">#&gt;          &lt;int&gt; &lt;chr&gt;                              </span></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">#&gt;  1           0 Electricity                        </span></span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="co">#&gt;  2       40203 State Energy Data System (SEDS)    </span></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co">#&gt;  3      714755 Petroleum                          </span></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co">#&gt;  4      714804 Natural Gas                        </span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="co">#&gt;  5      711224 Total Energy                       </span></span>
<span id="cb1-19"><a href="#cb1-19"></a><span class="co">#&gt;  6      717234 Coal                               </span></span>
<span id="cb1-20"><a href="#cb1-20"></a><span class="co">#&gt;  7      829714 Short-Term Energy Outlook          </span></span>
<span id="cb1-21"><a href="#cb1-21"></a><span class="co">#&gt;  8      964164 Annual Energy Outlook              </span></span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="co">#&gt;  9     1292190 Crude Oil Imports                  </span></span>
<span id="cb1-23"><a href="#cb1-23"></a><span class="co">#&gt; 10     2123635 U.S. Electric System Operating Data</span></span>
<span id="cb1-24"><a href="#cb1-24"></a><span class="co">#&gt; 11     2134384 International Energy Data          </span></span>
<span id="cb1-25"><a href="#cb1-25"></a><span class="co">#&gt; 12     2251604 CO2 Emissions                      </span></span>
<span id="cb1-26"><a href="#cb1-26"></a><span class="co">#&gt; 13     2631064 International Energy Outlook       </span></span>
<span id="cb1-27"><a href="#cb1-27"></a><span class="co">#&gt; 14     2889994 U.S. Nuclear Outages</span></span></code></pre></div>
<p>Electricity has category ID 0. Take a closer look there.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">eia_cats</span>(<span class="dv">0</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">#&gt; $category</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt; # A tibble: 1 x 4</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt;   category_id parent_category_id name        notes</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;              &lt;chr&gt;       &lt;chr&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt; 1 0           371                Electricity &quot;&quot;   </span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt; </span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">#&gt; $childcategories</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">#&gt; # A tibble: 19 x 2</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#&gt;    category_id name                                                              </span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="co">#&gt;          &lt;int&gt; &lt;chr&gt;                                                             </span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="co">#&gt;  1           1 Net generation                                                    </span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co">#&gt;  2          35 Total consumption                                                 </span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="co">#&gt;  3          32 Total consumption (Btu)                                           </span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="co">#&gt;  4          36 Consumption for electricity generation                            </span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="co">#&gt;  5          33 Consumption for electricity generation (Btu)                      </span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="co">#&gt;  6          37 Consumption for useful thermal output                             </span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="co">#&gt;  7          34 Consumption for useful thermal output (Btu)                       </span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="co">#&gt;  8        1017 Plant level data                                                  </span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="co">#&gt;  9          38 Retail sales of electricity                                       </span></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="co">#&gt; 10          39 Revenue from retail sales of electricity                          </span></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="co">#&gt; 11          40 Average retail price of electricity                               </span></span>
<span id="cb2-23"><a href="#cb2-23"></a><span class="co">#&gt; 12     1718389 Number of customer accounts                                       </span></span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="co">#&gt; 13       41137 Fossil-fuel stocks for electricity generation                     </span></span>
<span id="cb2-25"><a href="#cb2-25"></a><span class="co">#&gt; 14       41138 Receipts of fossil fuels by electricity plants                    </span></span>
<span id="cb2-26"><a href="#cb2-26"></a><span class="co">#&gt; 15       41139 Receipts of fossil fuels by electricity plants (Btu)              </span></span>
<span id="cb2-27"><a href="#cb2-27"></a><span class="co">#&gt; 16       41140 Average cost of fossil fuels for electricity generation           </span></span>
<span id="cb2-28"><a href="#cb2-28"></a><span class="co">#&gt; 17       41141 Average cost of fossil fuels for electricity generation (per Btu) </span></span>
<span id="cb2-29"><a href="#cb2-29"></a><span class="co">#&gt; 18       41142 Quality of fossil fuels in electricity generation : sulfur content</span></span>
<span id="cb2-30"><a href="#cb2-30"></a><span class="co">#&gt; 19       41143 Quality of fossil fuels in electricity generation : ash content</span></span></code></pre></div>
<p>There are two categories referring to total consumption. Take category ID 32 as an example and step deeper into the category hierarchy.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">eia_cats</span>(<span class="dv">32</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt; $category</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; # A tibble: 1 x 4</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt;   category_id parent_category_id name                    notes</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;              &lt;chr&gt;                   &lt;chr&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; 1 32          0                  Total consumption (Btu) &quot;&quot;   </span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; </span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt; $childcategories</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; # A tibble: 2 x 2</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="co">#&gt;   category_id name        </span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="co">#&gt;         &lt;int&gt; &lt;chr&gt;       </span></span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">#&gt; 1         373 By fuel type</span></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co">#&gt; 2         372 By sector</span></span></code></pre></div>
<p>At this point you have a choice between total consumption by sector or fuel type. Select by sector.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">eia_cats</span>(<span class="dv">372</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; $category</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt; # A tibble: 1 x 4</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt;   category_id parent_category_id name      notes</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;              &lt;chr&gt;     &lt;chr&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; 1 372         32                 By sector &quot;&quot;   </span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; </span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt; $childcategories</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; # A tibble: 11 x 2</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt;    category_id name                               </span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt;          &lt;int&gt; &lt;chr&gt;                              </span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt;  1         388 Electric power (total)             </span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">#&gt;  2         389 Electric utility                   </span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">#&gt;  3         390 Independent power producers (total)</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">#&gt;  4         391 Electric utility non-cogen         </span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">#&gt;  5         392 Electric utility cogen             </span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">#&gt;  6         393 All commercial (total)             </span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">#&gt;  7         394 Commercial non-cogen               </span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">#&gt;  8         395 Commercial cogen                   </span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">#&gt;  9         396 All industrial (total)             </span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">#&gt; 10         397 Industrial non-cogen               </span></span>
<span id="cb4-22"><a href="#cb4-22"></a><span class="co">#&gt; 11         398 Industrial cogen</span></span></code></pre></div>
<p>Then total electrical power.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">eia_cats</span>(<span class="dv">388</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#&gt; $category</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#&gt; # A tibble: 1 x 4</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt;   category_id parent_category_id name                   notes</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;              &lt;chr&gt;                  &lt;chr&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; 1 388         372                Electric power (total) &quot;&quot;   </span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#&gt; </span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#&gt; $childcategories</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#&gt; # A tibble: 4 x 2</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="co">#&gt;   category_id name             </span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#&gt;         &lt;int&gt; &lt;chr&gt;            </span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">#&gt; 1         738 Coal             </span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt; 2         739 Petroleum liquids</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt; 3         740 Petroleum coke   </span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt; 4         741 Natural gas</span></span></code></pre></div>
<p>And finally coal.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>(x &lt;-<span class="st"> </span><span class="kw">eia_cats</span>(<span class="dv">738</span>))</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">#&gt; $category</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; # A tibble: 1 x 4</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt;   category_id parent_category_id name  notes</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt;   &lt;chr&gt;       &lt;chr&gt;              &lt;chr&gt; &lt;chr&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; 1 738         388                Coal  &quot;&quot;   </span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">#&gt; </span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; $childseries</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt; # A tibble: 174 x 5</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt;    series_id                     name                                                                           f     units         updated              </span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt;    &lt;chr&gt;                         &lt;chr&gt;                                                                          &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;                </span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt;  1 ELEC.CONS_TOT_BTU.COW-AK-98.A Total consumption (Btu) : coal : Alaska : electric power (total) : annual      A     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt;  2 ELEC.CONS_TOT_BTU.COW-AK-98.M Total consumption (Btu) : coal : Alaska : electric power (total) : monthly     M     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-14"><a href="#cb6-14"></a><span class="co">#&gt;  3 ELEC.CONS_TOT_BTU.COW-AK-98.Q Total consumption (Btu) : coal : Alaska : electric power (total) : quarterly   Q     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-15"><a href="#cb6-15"></a><span class="co">#&gt;  4 ELEC.CONS_TOT_BTU.COW-AL-98.A Total consumption (Btu) : coal : Alabama : electric power (total) : annual     A     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-16"><a href="#cb6-16"></a><span class="co">#&gt;  5 ELEC.CONS_TOT_BTU.COW-AL-98.M Total consumption (Btu) : coal : Alabama : electric power (total) : monthly    M     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-17"><a href="#cb6-17"></a><span class="co">#&gt;  6 ELEC.CONS_TOT_BTU.COW-AL-98.Q Total consumption (Btu) : coal : Alabama : electric power (total) : quarterly  Q     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-18"><a href="#cb6-18"></a><span class="co">#&gt;  7 ELEC.CONS_TOT_BTU.COW-AR-98.A Total consumption (Btu) : coal : Arkansas : electric power (total) : annual    A     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-19"><a href="#cb6-19"></a><span class="co">#&gt;  8 ELEC.CONS_TOT_BTU.COW-AR-98.M Total consumption (Btu) : coal : Arkansas : electric power (total) : monthly   M     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-20"><a href="#cb6-20"></a><span class="co">#&gt;  9 ELEC.CONS_TOT_BTU.COW-AR-98.Q Total consumption (Btu) : coal : Arkansas : electric power (total) : quarterly Q     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-21"><a href="#cb6-21"></a><span class="co">#&gt; 10 ELEC.CONS_TOT_BTU.COW-AZ-98.A Total consumption (Btu) : coal : Arizona : electric power (total) : annual     A     million MMBtu 27-OCT-20 06.46.54 PM</span></span>
<span id="cb6-22"><a href="#cb6-22"></a><span class="co">#&gt; # ... with 164 more rows</span></span></code></pre></div>
</div>
<div id="available-child-series" class="section level2">
<h2>Available child series</h2>
<p>At this point you have reached a terminal node of the category tree. Instead of another table of child category IDs and names in the result, there is a <code>childseries</code> table.</p>
<p>This table contains:</p>
<ul>
<li>time series IDs</li>
<li>names that describe the nested position of the data in the overall category hierarchy</li>
<li>time format</li>
<li>units</li>
<li>the time stamp of the most recent data update</li>
</ul>
<p>Each row in this table represents a unique time series dataset; in this case for different states and in annual, quarterly and monthly time steps. TO obtain the time series data, make a request using <code>eia_series</code> and provide a series ID.</p>
</div>
<div id="time-formats" class="section level2">
<h2>Time formats</h2>
<p>To see how the different time formats are parsed, take the first three IDs for Alaska. Request only the three most recent results for each series.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>id &lt;-<span class="st"> </span>x<span class="op">$</span>childseries<span class="op">$</span>series_id[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</span>
<span id="cb7-2"><a href="#cb7-2"></a>x1 &lt;-<span class="st"> </span><span class="kw">eia_series</span>(id[<span class="dv">1</span>], <span class="dt">n =</span> <span class="dv">3</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a>x2 &lt;-<span class="st"> </span><span class="kw">eia_series</span>(id[<span class="dv">2</span>], <span class="dt">n =</span> <span class="dv">3</span>)</span>
<span id="cb7-4"><a href="#cb7-4"></a>x3 &lt;-<span class="st"> </span><span class="kw">eia_series</span>(id[<span class="dv">3</span>], <span class="dt">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<p>The format of each result is the same. Inspect the first one. It is a data frame with one row. All but the final column, <code>data</code>, give metadata about the series. <code>data</code> is a list column (in this case of length one) that can be extracted directly or unnested using <code>tidyr::unnest</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw">library</span>(tidyr)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a>x1<span class="op">$</span>data[[<span class="dv">1</span>]]</span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">#&gt;   value date        year</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">#&gt; 1 11.0  2019-01-01  2019</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#&gt; 2 10.4  2018-01-01  2018</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">#&gt; 3  9.21 2017-01-01  2017</span></span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="kw">select</span>(x1, series_id, data) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(<span class="dt">cols =</span> data)</span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">#&gt; # A tibble: 3 x 4</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">#&gt;   series_id                     value date        year</span></span>
<span id="cb8-16"><a href="#cb8-16"></a><span class="co">#&gt;   &lt;chr&gt;                         &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;</span></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-98.A 11.0  2019-01-01  2019</span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-98.A 10.4  2018-01-01  2018</span></span>
<span id="cb8-19"><a href="#cb8-19"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-98.A  9.21 2017-01-01  2017</span></span>
<span id="cb8-20"><a href="#cb8-20"></a></span>
<span id="cb8-21"><a href="#cb8-21"></a><span class="kw">unnest</span>(x1, <span class="dt">cols =</span> data) <span class="op">%&gt;%</span></span>
<span id="cb8-22"><a href="#cb8-22"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="kw">factor</span>(year), value)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_col</span>() <span class="op">+</span></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Year&quot;</span>, <span class="dt">y =</span> x1<span class="op">$</span>units, <span class="dt">title =</span> <span class="st">&quot;Total Alaska electricity consumption&quot;</span>,</span>
<span id="cb8-24"><a href="#cb8-24"></a>       <span class="dt">subtitle =</span> <span class="st">&quot;From coal sources&quot;</span>, <span class="dt">caption =</span> x1<span class="op">$</span>description)</span></code></pre></div>
<p><img src="data:image/png;base64,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U7RKmCpT0iT/9Kc/DZxnwiM7lfH73//+V7/6VX7Kt7/97SeeeGJS8QBHpwnDtNEqYapMSZN8+PDhwHlmIJ2YZv/2b/826RCA/58mCdNGq4RH3gykE6dPn/7Xf/3X/JQ///M//7//+79JxcP0+/znP//Zz342hHD37t379+9POhwgfOlLX6pUKiEER2+YBk888cQXvvCFEML9+/fv3r076XCYXh9//PGpU6eK55lYOtGz13Xsn90x8Qtf+MLXv/71/JS7d+/eu3dvvPExy9rtdvzw8OHDBw8eTDYYIE+ThGnw2GP/bzCejz/+WKvkiCY2stPTTz+9v79/eHiYTTk8PNzf33/66acnFRIAADCUiaUTzz//fAjhjTfeiBnF4eHhG2+8kU0HAACm38QednruueeWl5d3d3dXV1ezicvLy88999ykQgIAAIYysbsTIYSLFy9euHAh+/PChQsXL16cYDwAAMBQJjyy05kzZ86cOTPZGAAAgDSTvDsBAADMNOkEAACQSDoBAAAkkk4AAACJpBMAAEAi6QQAAJBIOgEAACSSTgAAAImkEwAAQCLpBAAAkKjSbrcnHcPQ7t69e+/evUlHwfT605/+9ODBgxDCqVOnHntMzgyTd+/evXi6+fznPz/pWIDw8ccff/jhhyGEJ5544oknnph0OEy1r371q8UzzGQ6AcX+4R/+odFohBCuXLnyd3/3d5MOBwjVavVPf/rTY4899qtf/WrSsQDhnXfeuXTpUgjh+9///j/90z9NOhxmmx9uAQCARNIJAAAgkXQCAABIJJ0AAAASPT7pAGD0vvnNb546dSqE8Fd/9VeTjgUIIYSzZ8/G8daAaTA3N/fSSy+FEBYXFycdCzPPyE4AAEAiDzsBAACJpBMAAEAi6QQAAJBIV2ym2uHh4RtvvLG/vx//XF5evnjxYsc8N2/evHbtWvx84cKFM2fO9Fvaiy+++Nprrz333HP5Kf1mvnHjRnrc8Ogad6uMrl69uru7W2YJcMIdf5PsOQMn2Wf+8R//cdIxQG+Hh4erq6u//e1vsym//vWv//u///v73/9+NuXq1avXr1/P/vyv//qv3/3ud9/61re6l/bKK6/89re//e53v/u1r30tm/jTn/6039r//u///qgbAI+cY2iVcfp//Md/lFkCnHDH0yRffPHFX//619mf//7v/65JkufuBNPr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" title="plot of chunk series2" alt="plot of chunk series2" width="100%" /></p>
<p>Results are similarly structured for the other series, but the columns containing date information differ.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>x1<span class="op">$</span>data[[<span class="dv">1</span>]]</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">#&gt;   value date        year</span></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt; 1 11.0  2019-01-01  2019</span></span>
<span id="cb9-6"><a href="#cb9-6"></a><span class="co">#&gt; 2 10.4  2018-01-01  2018</span></span>
<span id="cb9-7"><a href="#cb9-7"></a><span class="co">#&gt; 3  9.21 2017-01-01  2017</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>x2<span class="op">$</span>data[[<span class="dv">1</span>]]</span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co">#&gt; # A tibble: 3 x 4</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#&gt;    value date        year month</span></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="co">#&gt;    &lt;dbl&gt; &lt;date&gt;     &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb9-12"><a href="#cb9-12"></a><span class="co">#&gt; 1 NA     2020-08-01  2020     8</span></span>
<span id="cb9-13"><a href="#cb9-13"></a><span class="co">#&gt; 2 NA     2020-07-01  2020     7</span></span>
<span id="cb9-14"><a href="#cb9-14"></a><span class="co">#&gt; 3  0.770 2020-06-01  2020     6</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>x3<span class="op">$</span>data[[<span class="dv">1</span>]]</span>
<span id="cb9-16"><a href="#cb9-16"></a><span class="co">#&gt; # A tibble: 3 x 4</span></span>
<span id="cb9-17"><a href="#cb9-17"></a><span class="co">#&gt;   value date        year   qtr</span></span>
<span id="cb9-18"><a href="#cb9-18"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb9-19"><a href="#cb9-19"></a><span class="co">#&gt; 1 NA    2020-04-01  2020     2</span></span>
<span id="cb9-20"><a href="#cb9-20"></a><span class="co">#&gt; 2 NA    2020-01-01  2020     1</span></span>
<span id="cb9-21"><a href="#cb9-21"></a><span class="co">#&gt; 3  3.05 2019-10-01  2019     4</span></span></code></pre></div>
</div>
<div id="multiple-series" class="section level2">
<h2>Multiple series</h2>
<p>The EIA API allows multiple series to be requested in a single API call. You should do this whenever possible to reduce the number of requests you make. To request the same data as above, just provide the <code>id</code> vector. Other arguments like <code>n</code> are not vectorized.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>x &lt;-<span class="st"> </span><span class="kw">eia_series</span>(id, <span class="dt">n =</span> <span class="dv">3</span>)</span>
<span id="cb10-2"><a href="#cb10-2"></a>x</span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">#&gt; # A tibble: 3 x 13</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co">#&gt;   series_id       name                      units    f     description                            copyright source           iso3166 geography start end   updated     data    </span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;                     &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;                                  &lt;chr&gt;     &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;list&gt;  </span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_~ Total consumption (Btu) ~ million~ A     &quot;Summation of all types of coal; Powe~ None      EIA, U.S. Energ~ USA-AK  USA-AK    2001  2019  2020-10-27~ &lt;tibble~</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_~ Total consumption (Btu) ~ million~ M     &quot;Summation of all types of coal; Powe~ None      EIA, U.S. Energ~ USA-AK  USA-AK    2001~ 2020~ 2020-10-27~ &lt;tibble~</span></span>
<span id="cb10-8"><a href="#cb10-8"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_~ Total consumption (Btu) ~ million~ Q     &quot;Summation of all types of coal; Powe~ None      EIA, U.S. Energ~ USA-AK  USA-AK    2001~ 2020~ 2020-10-27~ &lt;tibble~</span></span></code></pre></div>
<p>There are now three rows in the table containing the same data as before. The <code>data</code> list column also contains the same structures as before.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>x<span class="op">$</span>data</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">#&gt; # A tibble: 3 x 3</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#&gt;   value date        year</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">#&gt; 1 11.0  2019-01-01  2019</span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#&gt; 2 10.4  2018-01-01  2018</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">#&gt; 3  9.21 2017-01-01  2017</span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co">#&gt; </span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">#&gt; # A tibble: 3 x 4</span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">#&gt;    value date        year month</span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">#&gt;    &lt;dbl&gt; &lt;date&gt;     &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="co">#&gt; 1 NA     2020-08-01  2020     8</span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="co">#&gt; 2 NA     2020-07-01  2020     7</span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="co">#&gt; 3  0.770 2020-06-01  2020     6</span></span>
<span id="cb11-17"><a href="#cb11-17"></a><span class="co">#&gt; </span></span>
<span id="cb11-18"><a href="#cb11-18"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="co">#&gt; # A tibble: 3 x 4</span></span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="co">#&gt;   value date        year   qtr</span></span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="co">#&gt;   &lt;dbl&gt; &lt;date&gt;     &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb11-22"><a href="#cb11-22"></a><span class="co">#&gt; 1 NA    2020-04-01  2020     2</span></span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="co">#&gt; 2 NA    2020-01-01  2020     1</span></span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="co">#&gt; 3  3.05 2019-10-01  2019     4</span></span></code></pre></div>
<p>These can be unnested and filled in with <code>NA</code> as needed.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="kw">select</span>(x, series_id, data) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unnest</span>(<span class="dt">cols =</span> data)</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#&gt; # A tibble: 9 x 6</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#&gt;   series_id                      value date        year month   qtr</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt;   &lt;chr&gt;                          &lt;dbl&gt; &lt;date&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt;</span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-98.A 11.0   2019-01-01  2019    NA    NA</span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-98.A 10.4   2018-01-01  2018    NA    NA</span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-98.A  9.21  2017-01-01  2017    NA    NA</span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">#&gt; 4 ELEC.CONS_TOT_BTU.COW-AK-98.M NA     2020-08-01  2020     8    NA</span></span>
<span id="cb12-9"><a href="#cb12-9"></a><span class="co">#&gt; 5 ELEC.CONS_TOT_BTU.COW-AK-98.M NA     2020-07-01  2020     7    NA</span></span>
<span id="cb12-10"><a href="#cb12-10"></a><span class="co">#&gt; 6 ELEC.CONS_TOT_BTU.COW-AK-98.M  0.770 2020-06-01  2020     6    NA</span></span>
<span id="cb12-11"><a href="#cb12-11"></a><span class="co">#&gt; 7 ELEC.CONS_TOT_BTU.COW-AK-98.Q NA     2020-04-01  2020    NA     2</span></span>
<span id="cb12-12"><a href="#cb12-12"></a><span class="co">#&gt; 8 ELEC.CONS_TOT_BTU.COW-AK-98.Q NA     2020-01-01  2020    NA     1</span></span>
<span id="cb12-13"><a href="#cb12-13"></a><span class="co">#&gt; 9 ELEC.CONS_TOT_BTU.COW-AK-98.Q  3.05  2019-10-01  2019    NA     4</span></span></code></pre></div>
</div>
<div id="time-period-and-number-of-results" class="section level2">
<h2>Time period and number of results</h2>
<p>Here are some things to keep in mind about <code>eia_series</code> arguments.</p>
<ul>
<li>The function only makes one API call, combining multiple series IDs if provided.</li>
<li>If there are fewer results than you request, everything available is returned.</li>
<li>Results are from the most recent unless using <code>start</code> alone.</li>
<li>If you provide <code>start</code> and <code>end</code>, <code>n</code> is ignored.</li>
<li>If you do not provide a closed period or <code>n</code>, you will receive all relevant data available, subject to any API limits.</li>
<li>Depending on the nature of the request, you may have to construct more than one call.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw">eia_series</span>(id, <span class="dt">n =</span> <span class="dv">10</span>)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw">eia_series</span>(id, <span class="dt">end =</span> <span class="dv">2016</span>, <span class="dt">n =</span> <span class="dv">5</span>)</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="kw">eia_series</span>(id, <span class="dt">start =</span> <span class="dv">2000</span>, <span class="dt">end =</span> <span class="dv">2016</span>)</span></code></pre></div>
</div>
<div id="output-format" class="section level2">
<h2>Output format</h2>
<p>The default is to return tidy data in a tibble data frame. You can set <code>tidy = FALSE</code> to return the list returned by <code>jsonlite::fromJSON</code> without any further processing.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">eia_series</span>(id, <span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">tidy =</span> <span class="ot">FALSE</span>)</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co">#&gt; $request</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co">#&gt; $request$command</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co">#&gt; [1] &quot;series&quot;</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="co">#&gt; </span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="co">#&gt; $request$series_id</span></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co">#&gt; [1] &quot;ELEC.CONS_TOT_BTU.COW-AK-98.A;ELEC.CONS_TOT_BTU.COW-AK-98.M;ELEC.CONS_TOT_BTU.COW-AK-98.Q&quot;</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="co">#&gt; </span></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="co">#&gt; </span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co">#&gt; $series</span></span>
<span id="cb14-11"><a href="#cb14-11"></a><span class="co">#&gt;                       series_id                                                                         name         units f</span></span>
<span id="cb14-12"><a href="#cb14-12"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-98.A    Total consumption (Btu) : coal : Alaska : electric power (total) : annual million MMBtu A</span></span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-98.M   Total consumption (Btu) : coal : Alaska : electric power (total) : monthly million MMBtu M</span></span>
<span id="cb14-14"><a href="#cb14-14"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-98.Q Total consumption (Btu) : coal : Alaska : electric power (total) : quarterly million MMBtu Q</span></span>
<span id="cb14-15"><a href="#cb14-15"></a><span class="co">#&gt;                                                                                                   description copyright                                      source iso3166</span></span>
<span id="cb14-16"><a href="#cb14-16"></a><span class="co">#&gt; 1 Summation of all types of coal; Power plants owned by companies whose primary purpose is to produce power;       None EIA, U.S. Energy Information Administration  USA-AK</span></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="co">#&gt; 2 Summation of all types of coal; Power plants owned by companies whose primary purpose is to produce power;       None EIA, U.S. Energy Information Administration  USA-AK</span></span>
<span id="cb14-18"><a href="#cb14-18"></a><span class="co">#&gt; 3 Summation of all types of coal; Power plants owned by companies whose primary purpose is to produce power;       None EIA, U.S. Energy Information Administration  USA-AK</span></span>
<span id="cb14-19"><a href="#cb14-19"></a><span class="co">#&gt;   geography  start    end                  updated                                          data</span></span>
<span id="cb14-20"><a href="#cb14-20"></a><span class="co">#&gt; 1    USA-AK   2001   2019 2020-10-27T18:46:54-0400 2019, 2018, 2017, 11.03525, 10.37727, 9.21412</span></span>
<span id="cb14-21"><a href="#cb14-21"></a><span class="co">#&gt; 2    USA-AK 200101 202008 2020-10-27T18:46:54-0400       202008, 202007, 202006, NA, NA, 0.77003</span></span>
<span id="cb14-22"><a href="#cb14-22"></a><span class="co">#&gt; 3    USA-AK 2001Q1 2020Q2 2020-10-27T18:46:54-0400       2020Q2, 2020Q1, 2019Q4, NA, NA, 3.04527</span></span></code></pre></div>
<p>You can also return the raw JSON data in a character string if you need to process this directly with other code.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="kw">cat</span>(<span class="kw">eia_series</span>(id, <span class="dt">n =</span> <span class="dv">3</span>, <span class="dt">tidy =</span> <span class="ot">NA</span>))</span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="co">#&gt; {&quot;request&quot;:{&quot;command&quot;:&quot;series&quot;,&quot;series_id&quot;:&quot;ELEC.CONS_TOT_BTU.COW-AK-98.A;ELEC.CONS_TOT_BTU.COW-AK-98.M;ELEC.CONS_TOT_BTU.COW-AK-98.Q&quot;},&quot;series&quot;:[{&quot;series_id&quot;:&quot;ELEC.CONS_TOT_BTU.COW-AK-98.A&quot;,&quot;name&quot;:&quot;Total consumption (Btu) : coal : Alaska : electric power (total) : annual&quot;,&quot;units&quot;:&quot;million MMBtu&quot;,&quot;f&quot;:&quot;A&quot;,&quot;description&quot;:&quot;Summation of all types of coal; Power plants owned by companies whose primary purpose is to produce power; &quot;,&quot;copyright&quot;:&quot;None&quot;,&quot;source&quot;:&quot;EIA, U.S. Energy Information Administration&quot;,&quot;iso3166&quot;:&quot;USA-AK&quot;,&quot;geography&quot;:&quot;USA-AK&quot;,&quot;start&quot;:&quot;2001&quot;,&quot;end&quot;:&quot;2019&quot;,&quot;updated&quot;:&quot;2020-10-27T18:46:54-0400&quot;,&quot;data&quot;:[[&quot;2019&quot;,11.03525],[&quot;2018&quot;,10.37727],[&quot;2017&quot;,9.21412]]},{&quot;series_id&quot;:&quot;ELEC.CONS_TOT_BTU.COW-AK-98.M&quot;,&quot;name&quot;:&quot;Total consumption (Btu) : coal : Alaska : electric power (total) : monthly&quot;,&quot;units&quot;:&quot;million MMBtu&quot;,&quot;f&quot;:&quot;M&quot;,&quot;description&quot;:&quot;Summation of all types of coal; Power plants owned by companies whose primary purpose is to produce power; &quot;,&quot;copyright&quot;:&quot;None&quot;,&quot;source&quot;:&quot;EIA, U.S. Energy Information Administration&quot;,&quot;iso3166&quot;:&quot;USA-AK&quot;,&quot;geography&quot;:&quot;USA-AK&quot;,&quot;start&quot;:&quot;200101&quot;,&quot;end&quot;:&quot;202008&quot;,&quot;updated&quot;:&quot;2020-10-27T18:46:54-0400&quot;,&quot;data&quot;:[[&quot;202008&quot;,null],[&quot;202007&quot;,null],[&quot;202006&quot;,0.77003]]},{&quot;series_id&quot;:&quot;ELEC.CONS_TOT_BTU.COW-AK-98.Q&quot;,&quot;name&quot;:&quot;Total consumption (Btu) : coal : Alaska : electric power (total) : quarterly&quot;,&quot;units&quot;:&quot;million MMBtu&quot;,&quot;f&quot;:&quot;Q&quot;,&quot;description&quot;:&quot;Summation of all types of coal; Power plants owned by companies whose primary purpose is to produce power; &quot;,&quot;copyright&quot;:&quot;None&quot;,&quot;source&quot;:&quot;EIA, U.S. Energy Information Administration&quot;,&quot;iso3166&quot;:&quot;USA-AK&quot;,&quot;geography&quot;:&quot;USA-AK&quot;,&quot;start&quot;:&quot;2001Q1&quot;,&quot;end&quot;:&quot;2020Q2&quot;,&quot;updated&quot;:&quot;2020-10-27T18:46:54-0400&quot;,&quot;data&quot;:[[&quot;2020Q2&quot;,null],[&quot;2020Q1&quot;,null],[&quot;2019Q4&quot;,3.04527]]}]}</span></span></code></pre></div>
<p>This allows you to use the returned results with existing code you may have that requires data in one of these less processed structures.</p>
</div>
<div id="helpers-functions" class="section level2">
<h2>Helpers functions</h2>
<div id="time-series-metadata" class="section level3">
<h3>Time series metadata</h3>
<p>There are some functions available that make small API calls and return only metadata associated with a time series dataset.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">eia_series_metadata</span>(id)</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="co">#&gt; # A tibble: 3 x 12</span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="co">#&gt;   series_id        name                         units    f     description                               copyright source            iso3166 geography start end   updated     </span></span>
<span id="cb16-4"><a href="#cb16-4"></a><span class="co">#&gt;   &lt;chr&gt;            &lt;chr&gt;                        &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt;                                     &lt;chr&gt;     &lt;chr&gt;             &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       </span></span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_B~ Total consumption (Btu) : c~ million~ A     &quot;Summation of all types of coal; Power p~ None      EIA, U.S. Energy~ USA-AK  USA-AK    2001  2019  2020-10-27T~</span></span>
<span id="cb16-6"><a href="#cb16-6"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_B~ Total consumption (Btu) : c~ million~ M     &quot;Summation of all types of coal; Power p~ None      EIA, U.S. Energy~ USA-AK  USA-AK    2001~ 2020~ 2020-10-27T~</span></span>
<span id="cb16-7"><a href="#cb16-7"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_B~ Total consumption (Btu) : c~ million~ Q     &quot;Summation of all types of coal; Power p~ None      EIA, U.S. Energy~ USA-AK  USA-AK    2001~ 2020~ 2020-10-27T~</span></span>
<span id="cb16-8"><a href="#cb16-8"></a><span class="kw">eia_series_updates</span>(id)</span>
<span id="cb16-9"><a href="#cb16-9"></a><span class="co">#&gt; # A tibble: 3 x 2</span></span>
<span id="cb16-10"><a href="#cb16-10"></a><span class="co">#&gt;   series_id                     updated                 </span></span>
<span id="cb16-11"><a href="#cb16-11"></a><span class="co">#&gt;   &lt;chr&gt;                         &lt;chr&gt;                   </span></span>
<span id="cb16-12"><a href="#cb16-12"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-98.A 2020-10-27T18:46:54-0400</span></span>
<span id="cb16-13"><a href="#cb16-13"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-98.M 2020-10-27T18:46:54-0400</span></span>
<span id="cb16-14"><a href="#cb16-14"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-98.Q 2020-10-27T18:46:54-0400</span></span>
<span id="cb16-15"><a href="#cb16-15"></a><span class="kw">eia_series_dates</span>(id)</span>
<span id="cb16-16"><a href="#cb16-16"></a><span class="co">#&gt; # A tibble: 333 x 4</span></span>
<span id="cb16-17"><a href="#cb16-17"></a><span class="co">#&gt;    series_id                     date       eiadate date_format</span></span>
<span id="cb16-18"><a href="#cb16-18"></a><span class="co">#&gt;    &lt;chr&gt;                         &lt;date&gt;     &lt;chr&gt;   &lt;chr&gt;      </span></span>
<span id="cb16-19"><a href="#cb16-19"></a><span class="co">#&gt;  1 ELEC.CONS_TOT_BTU.COW-AK-98.A 2001-01-01 2001    A          </span></span>
<span id="cb16-20"><a href="#cb16-20"></a><span class="co">#&gt;  2 ELEC.CONS_TOT_BTU.COW-AK-98.A 2002-01-01 2002    A          </span></span>
<span id="cb16-21"><a href="#cb16-21"></a><span class="co">#&gt;  3 ELEC.CONS_TOT_BTU.COW-AK-98.A 2003-01-01 2003    A          </span></span>
<span id="cb16-22"><a href="#cb16-22"></a><span class="co">#&gt;  4 ELEC.CONS_TOT_BTU.COW-AK-98.A 2004-01-01 2004    A          </span></span>
<span id="cb16-23"><a href="#cb16-23"></a><span class="co">#&gt;  5 ELEC.CONS_TOT_BTU.COW-AK-98.A 2005-01-01 2005    A          </span></span>
<span id="cb16-24"><a href="#cb16-24"></a><span class="co">#&gt;  6 ELEC.CONS_TOT_BTU.COW-AK-98.A 2006-01-01 2006    A          </span></span>
<span id="cb16-25"><a href="#cb16-25"></a><span class="co">#&gt;  7 ELEC.CONS_TOT_BTU.COW-AK-98.A 2007-01-01 2007    A          </span></span>
<span id="cb16-26"><a href="#cb16-26"></a><span class="co">#&gt;  8 ELEC.CONS_TOT_BTU.COW-AK-98.A 2008-01-01 2008    A          </span></span>
<span id="cb16-27"><a href="#cb16-27"></a><span class="co">#&gt;  9 ELEC.CONS_TOT_BTU.COW-AK-98.A 2009-01-01 2009    A          </span></span>
<span id="cb16-28"><a href="#cb16-28"></a><span class="co">#&gt; 10 ELEC.CONS_TOT_BTU.COW-AK-98.A 2010-01-01 2010    A          </span></span>
<span id="cb16-29"><a href="#cb16-29"></a><span class="co">#&gt; # ... with 323 more rows</span></span>
<span id="cb16-30"><a href="#cb16-30"></a><span class="kw">eia_series_range</span>(id)</span>
<span id="cb16-31"><a href="#cb16-31"></a><span class="co">#&gt; # A tibble: 3 x 7</span></span>
<span id="cb16-32"><a href="#cb16-32"></a><span class="co">#&gt;   series_id                     start_date end_date   start  end    date_format     n</span></span>
<span id="cb16-33"><a href="#cb16-33"></a><span class="co">#&gt;   &lt;chr&gt;                         &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;       &lt;int&gt;</span></span>
<span id="cb16-34"><a href="#cb16-34"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-98.A 2001-01-01 2019-01-01 2001   2019   A              19</span></span>
<span id="cb16-35"><a href="#cb16-35"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-98.M 2001-01-01 2020-08-01 200101 202008 M             236</span></span>
<span id="cb16-36"><a href="#cb16-36"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-98.Q 2001-01-01 2020-04-01 2001Q1 2020Q2 Q              78</span></span>
<span id="cb16-37"><a href="#cb16-37"></a><span class="kw">eia_series_cats</span>(id)</span>
<span id="cb16-38"><a href="#cb16-38"></a><span class="co">#&gt; # A tibble: 6 x 3</span></span>
<span id="cb16-39"><a href="#cb16-39"></a><span class="co">#&gt;   series_id                     category_id name                  </span></span>
<span id="cb16-40"><a href="#cb16-40"></a><span class="co">#&gt;   &lt;chr&gt;                               &lt;int&gt; &lt;chr&gt;                 </span></span>
<span id="cb16-41"><a href="#cb16-41"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-98.A         474 Electric power (total)</span></span>
<span id="cb16-42"><a href="#cb16-42"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-98.A         738 Coal                  </span></span>
<span id="cb16-43"><a href="#cb16-43"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-98.M         474 Electric power (total)</span></span>
<span id="cb16-44"><a href="#cb16-44"></a><span class="co">#&gt; 4 ELEC.CONS_TOT_BTU.COW-AK-98.M         738 Coal                  </span></span>
<span id="cb16-45"><a href="#cb16-45"></a><span class="co">#&gt; 5 ELEC.CONS_TOT_BTU.COW-AK-98.Q         474 Electric power (total)</span></span>
<span id="cb16-46"><a href="#cb16-46"></a><span class="co">#&gt; 6 ELEC.CONS_TOT_BTU.COW-AK-98.Q         738 Coal</span></span></code></pre></div>
<p>Like <code>eia_seires</code>, these functions accept an <code>id</code> vector. They always return a tibble data frame. <code>eia_series_cats</code> uses the <code>series categories</code> endpoint and accepts the <code>tidy</code> argument so that output from the endpoint may be a JSON string, list or the tibble data frame.</p>
</div>
<div id="eia-date-strings" class="section level3">
<h3>EIA date strings</h3>
<p>EIA date strings used to specify start and end dates for time series requests are character strings that are not in any standard date formats. There are several functions that assist with moving between these strings and standard dates.</p>
<p>You can convert EIA date strings to dates.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="kw">eiadate_to_date</span>(<span class="kw">c</span>(<span class="st">&quot;201803&quot;</span>, <span class="st">&quot;201804&quot;</span>))</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co">#&gt; [1] &quot;2018-03-01&quot; &quot;2018-04-01&quot;</span></span></code></pre></div>
<p>or dates to EIA format; here are examples using annual, quarterly and monthly time formats.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">date_to_eiadate</span>(<span class="st">&quot;2018-05-14&quot;</span>, <span class="st">&quot;A&quot;</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="co">#&gt; [1] &quot;2018&quot;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="kw">date_to_eiadate</span>(<span class="st">&quot;2018-05-14&quot;</span>, <span class="st">&quot;Q&quot;</span>)</span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="co">#&gt; [1] &quot;2018Q2&quot;</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="kw">date_to_eiadate</span>(<span class="st">&quot;2018-05-14&quot;</span>, <span class="st">&quot;M&quot;</span>)</span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="co">#&gt; [1] &quot;201805&quot;</span></span></code></pre></div>
<p>It is also easy to create a date sequence from two EIA time stamps. The format is parsed from the first value (they are intended to always be consistent).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>(x &lt;-<span class="st"> </span><span class="kw">eiadate_to_date_seq</span>(<span class="st">&quot;2018Q1&quot;</span>, <span class="st">&quot;2018Q4&quot;</span>))</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="co">#&gt; [1] &quot;2018-01-01&quot; &quot;2018-04-01&quot; &quot;2018-07-01&quot; &quot;2018-10-01&quot;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="kw">date_to_eiadate</span>(x)</span>
<span id="cb19-4"><a href="#cb19-4"></a><span class="co">#&gt; [1] &quot;2018&quot; &quot;2018&quot; &quot;2018&quot; &quot;2018&quot;</span></span></code></pre></div>
</div>
</div>
<div id="checking-for-data-updates" class="section level2">
<h2>Checking for data updates</h2>
<p>It is good practice to minimize the number of API calls you make wherever possible. One way to do this is to not request data that has not changed since you last requested it. You can make an API call to the EIA <code>updates</code> endpoint to check update times on data series. If any series have not been updated since you last obtained the data, then you know you do not need to request the data again.</p>
<p>The <code>eia_series_updates</code> function shown above is handy for checking the most recent data update times of a specific set of series IDs. However, it must make one or more API calls to do so. For general checks on a potentially large number of series without having to query them all, you should use <code>eia_updates</code>. This function takes a category ID and can return the last update times for all series under that category.</p>
<p>If a category level has no series directly associated with it, an empty data frame is returned.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="kw">eia_updates</span>(<span class="dv">389</span>)</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="co">#&gt; # A tibble: 0 x 2</span></span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="co">#&gt; # ... with 2 variables: series_id &lt;chr&gt;, updated &lt;chr&gt;</span></span></code></pre></div>
<p>If a category has series available, paginated results are returned in a data frame. You can use <code>n</code> and <code>start</code> (together, unlike for general data requests with <code>eia_series</code>) to indicate how many rows to return and where to start. This helps you to cycle through pages of results. By default, <code>n = 50</code> and <code>start = 1</code>. The EIA API <code>updates</code> endpoint allows a maximum of <code>n = 10000</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="kw">eia_updates</span>(<span class="dv">742</span>, <span class="dt">n =</span> <span class="dv">5</span>)</span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="co">#&gt; # A tibble: 5 x 2</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co">#&gt;   series_id                    updated                 </span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co">#&gt;   &lt;chr&gt;                        &lt;chr&gt;                   </span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-1.A 2020-10-27T18:46:54-0400</span></span>
<span id="cb21-6"><a href="#cb21-6"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-1.M 2020-10-27T18:46:54-0400</span></span>
<span id="cb21-7"><a href="#cb21-7"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-1.Q 2020-10-27T18:46:54-0400</span></span>
<span id="cb21-8"><a href="#cb21-8"></a><span class="co">#&gt; 4 ELEC.CONS_TOT_BTU.COW-AL-1.A 2020-10-27T18:46:54-0400</span></span>
<span id="cb21-9"><a href="#cb21-9"></a><span class="co">#&gt; 5 ELEC.CONS_TOT_BTU.COW-AL-1.M 2020-10-27T18:46:54-0400</span></span></code></pre></div>
<p>Set <code>deep = TRUE</code> to obtain series associated with child categories. Category 389 above did not have series, but some of the child categories do.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="kw">eia_updates</span>(<span class="dv">389</span>, <span class="dt">n =</span> <span class="dv">5</span>, <span class="dt">deep =</span> <span class="ot">TRUE</span>)</span>
<span id="cb22-2"><a href="#cb22-2"></a><span class="co">#&gt; # A tibble: 5 x 2</span></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="co">#&gt;   series_id                    updated                 </span></span>
<span id="cb22-4"><a href="#cb22-4"></a><span class="co">#&gt;   &lt;chr&gt;                        &lt;chr&gt;                   </span></span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="co">#&gt; 1 ELEC.CONS_TOT_BTU.COW-AK-1.A 2020-10-27T18:46:54-0400</span></span>
<span id="cb22-6"><a href="#cb22-6"></a><span class="co">#&gt; 2 ELEC.CONS_TOT_BTU.COW-AK-1.M 2020-10-27T18:46:54-0400</span></span>
<span id="cb22-7"><a href="#cb22-7"></a><span class="co">#&gt; 3 ELEC.CONS_TOT_BTU.COW-AK-1.Q 2020-10-27T18:46:54-0400</span></span>
<span id="cb22-8"><a href="#cb22-8"></a><span class="co">#&gt; 4 ELEC.CONS_TOT_BTU.COW-AL-1.A 2020-10-27T18:46:54-0400</span></span>
<span id="cb22-9"><a href="#cb22-9"></a><span class="co">#&gt; 5 ELEC.CONS_TOT_BTU.COW-AL-1.M 2020-10-27T18:46:54-0400</span></span></code></pre></div>
<p>The above example works to show this while using <code>n = 5</code> because there were no results for the top parent category. if there had been, it would likely be necessary to request more results in order to see that child series were included.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
